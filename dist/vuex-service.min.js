/*!
 * vuex-service v0.1.0 
 * (c) 2017 james kim
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],t):e.VuexService=t(e.lodash)}(this,function(e){"use strict";function t(t){function i(t){e.merge(t.mutations,n),t.modules&&e.forEach(t.modules,function(e){return i(e)})}var n={set:function(t,i){var n=i.prop,r=i.value;e.set(t,n,r)},add:function(t,i){var n=i.prop,r=i.value;e.get(t,n).push(r)},update:function(t,i){var n=i.value,r=i.patch;e.merge(n,r),delete n.__patch},remove:function(t,i){var n=i.prop,r=i.value;e.get(t,n).splice(e.get(t,n).indexOf(r),1)}};i(require("~/store"))}function i(t){var i=this,n={m:{}},r=this.$store?this.$store.getters:this.getters,o=Object.keys(r),s=new RegExp("^"+t+"/");e.chain(o).filter(function(e){return s.test(e)}).map(function(t){var i=t.replace(s,"").split("/").join(".");e.set(n,i,r[t])}).value();var u=this.$store?this.$store._actions:this._actions;o=Object.keys(u),e.chain(o).filter(function(e){return s.test(e)}).map(function(t){var r=t.replace(s,"").split("/").join(".");if(e.get(n,r))throw new Error("duplicate key");var o=i.$store?i.$store:i;e.set(n,r,function(e,i){i&&(e.__patch=i),o.dispatch(t,e)})}).value();var a=this.$store?this.$store._mutations:this._mutations;return o=Object.keys(a),e.chain(o).filter(function(e){return s.test(e)}).map(function(t){var r=t.replace(s,"").split("/").join("."),o=i.$store?i.$store:i;e.set(n.m,r,function(i,n){var r={};if(e.isString(i)&&!e.isUndefined(n))r.prop=i,r.value=n;else if(n){if(!e.isObject(i)||!e.isObject(n))throw new Error("Incorrect arguements.");r.value=i,r.patch=n}else r=i;o.commit(t,r)})}).value(),n}function n(e,n){void 0===n&&(n={});var r=n.store||"./store";(n.mutation||!0)&&t(r),e.prototype.$$store=i}return n.version="0.1.0","undefined"!=typeof window&&window.Vue&&window.Vue.use(n),n});