/*!
 * vuex-service v0.1.0 
 * (c) 2018 james kim
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vuex"),require("lodash")):"function"==typeof define&&define.amd?define(["vuex","lodash"],t):e.VuexService=t(e.Vuex,e._)}(this,function(e,t){"use strict";function r(e){t.set(e,"mutations",t.merge(e.mutations,f)),e.modules&&t.forEach(e.modules,function(e){return r(e)})}function n(e,r,n){var o=r.$store?r.$store.getters:r.getters,i=Object.keys(o),s=new RegExp("^"+n+"/");t(i).filter(function(e){return s.test(e)}).map(function(r){var n=r.replace(s,"").split("/").join(".");t.set(e,n,o[r])}).value()}function o(e,r,n){var o=r.$store?r.$store._actions:r._actions,i=Object.keys(o),s=new RegExp("^"+n+"/");t(i).filter(function(e){return s.test(e)}).map(function(n){var o=n.replace(s,"").split("/").join(".");if(t.get(e,o))throw new Error("duplicate key");var i=r.$store?r.$store:r;t.set(e,o,function(e,t){t&&(e.__patch=t),i.dispatch(n,e)})}).value()}function i(e,r,n){var o=r.$store?r.$store._mutations:r._mutations,i=Object.keys(o),s=new RegExp("^"+n+"/");t(i).filter(function(e){return s.test(e)}).map(function(n){var o=n.replace(s,"").split("/");o.splice(o.length-1,0,"m");var i=o.join("."),u=r.$store?r.$store:r;t.set(e,i,function(e,r){var o={};if(t.isString(e)&&!t.isUndefined(r))o.prop=e,o.value=r;else if(r){if(!t.isObject(e)||!t.isObject(r))throw new Error("Incorrect arguements.");o.prop=e,o.value=r}else o=e;u.commit(n,o)})}).value()}function s(e,t,r){u(t.$store?t.$store.state:t.state,r.split("/").join("."),e)}function u(e,r,n){var o=Object.keys(t.get(e,r));t(o).map(function(o){t.get(n,o)?u(t.get(e,r),o,n[o]):t.set(n,o,t.get(e,r+"."+o))}).value()}function a(e){if(p[e])return n(p[e],this,e),p[e];var t={};return n(t,this,e),o(t,this,e),i(t,this,e),s(t,this,e),p[e]=t,t}function c(t,n){void 0===n&&(n={});var o=n.store,i=n.mutation||!0;if(!o)throw new Error("Not defined store");i&&r(o);var s="$$store";t.prototype.hasOwnProperty(s)||(Object.defineProperty(t.prototype,s,{get:function(){return a}}),e.Store.prototype[s]=a)}e="default"in e?e.default:e,t="default"in t?t.default:t;var f={set:function(e,r){var n=r.prop,o=r.value;t.set(e,n,o)},add:function(e,r){var n=r.prop,o=r.value;t.get(e,n).push(o)},update:function(e,r){var n=r.prop,o=r.value;t.isString(n)?t.set(e,n,o):(t.merge(n,o),delete n.__patch)},remove:function(e,r){var n=r.prop,o=r.value;t.get(e,n).splice(t.get(e,n).indexOf(o),1)}},p={};return c.version="0.1.0",c});