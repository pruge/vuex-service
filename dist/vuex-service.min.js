/*!
 * vuex-service v0.1.0 
 * (c) 2018 james kim
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vuex"),require("lodash")):"function"==typeof define&&define.amd?define(["exports","vuex","lodash"],t):t(e.VuexService=e.VuexService||{},e.Vuex,e._)}(this,function(e,t,r){"use strict";function n(e){r.set(e,"mutations",r.merge(e.mutations,p)),e.modules&&r.forEach(e.modules,function(e){return n(e)})}function o(e,t,n){var o=t.$store?t.$store.getters:t.getters,i=Object.keys(o),s=new RegExp("^"+n+"/");e.getters=o,r(i).filter(function(e){return s.test(e)}).map(function(t){var r=t.replace(s,"").split("/").join(".");Object.defineProperty(e,r,{get:function(){return this.getters[t]}})}).value()}function i(e,t,n){var o=t.$store?t.$store._actions:t._actions,i=Object.keys(o),s=new RegExp("^"+n+"/");r(i).filter(function(e){return s.test(e)}).map(function(n){var o=n.replace(s,"").split("/").join(".");if(r.get(e,o))throw new Error("duplicate key");var i=t.$store?t.$store:t;r.set(e,o,function(e,t){var r=e;t&&(r={src:e,patch:t}),i.dispatch(n,r)})}).value()}function s(e,t,n){var o=t.$store?t.$store._mutations:t._mutations,i=Object.keys(o),s=new RegExp("^"+n+"/");r(i).filter(function(e){return s.test(e)}).map(function(n){var o=n.replace(s,"").split("/");o.splice(o.length-1,0,"m");var i=o.join("."),u=t.$store?t.$store:t;r.set(e,i,function(e,t){var o={};if(r.isString(e)&&!r.isUndefined(t))o.prop=e,o.value=t;else if(t){if(!r.isObject(e)||!r.isObject(t))throw new Error("Incorrect arguements.");o.prop=e,o.value=t}else o=e;u.commit(n,o)})}).value()}function u(e,t,n){var o=t.$store?t.$store.state:t.state,i=n.split("/").join(".");e.state=r.get(o,i),a(o,i,e)}function a(e,t,n){var o=Object.keys(r.get(e,t));r(o).map(function(o){r.get(n,o)?a(r.get(e,t),o,n[o]):Object.defineProperty(n,o,{get:function(){return this.state[o]}})}).value()}function c(e,t){if(l[e])return l[e];var r=this;t&&(r=t);var n={};return o(n,r,e),i(n,r,e),s(n,r,e),u(n,r,e),l[e]=n,n}function f(e,r){void 0===r&&(r={});var o=r.store,i=r.mutation||!1;if(!o)throw new Error("Not defined store");i&&n(o);var s="$$store";e.prototype.hasOwnProperty(s)||(Object.defineProperty(e.prototype,s,{get:function(){return c}}),t.Store.prototype[s]=c)}t="default"in t?t.default:t,r="default"in r?r.default:r;var p={set:function(e,t){var n=t.prop,o=t.value;r.set(e,n,o)},add:function(e,t){var n=t.prop,o=t.value;r.get(e,n).push(o)},update:function(e,t){var n=t.prop,o=t.value;r.isString(n)?r.set(e,n,o):(r.merge(n,o),delete n.__patch)},remove:function(e,t){var n=t.prop,o=t.value;r.get(e,n).splice(r.get(e,n).indexOf(o),1)}},l={};f.version="0.1.0",e.default=f,e.Store=c,Object.defineProperty(e,"__esModule",{value:!0})});