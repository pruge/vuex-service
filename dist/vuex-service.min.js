/*!
 * vuex-service v0.1.0 
 * (c) 2017 james kim
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("lodash"),require("vuex")):"function"==typeof define&&define.amd?define(["lodash","vuex"],t):e.VuexService=t(e._,e.Vuex)}(this,function(e,t){"use strict";function r(t){function r(t){e.merge(t.mutations,o),t.modules&&e.forEach(t.modules,function(e){return r(e)})}var o={set:function(t,r){var o=r.prop,n=r.value;e.set(t,o,n)},add:function(t,r){var o=r.prop,n=r.value;e.get(t,o).push(n)},update:function(t,r){var o=r.value,n=r.patch;e.merge(o,n),delete o.__patch},remove:function(t,r){var o=r.prop,n=r.value;e.get(t,o).splice(e.get(t,o).indexOf(n),1)}};r(t)}function o(t){var r=this,o={m:{}},n=this.$store?this.$store.getters:this.getters,i=Object.keys(n),s=new RegExp("^"+t+"/");e(i).filter(function(e){return s.test(e)}).map(function(t){var r=t.replace(s,"").split("/").join(".");e.set(o,r,n[t])}).value();var u=this.$store?this.$store._actions:this._actions;i=Object.keys(u),e(i).filter(function(e){return s.test(e)}).map(function(t){var n=t.replace(s,"").split("/").join(".");if(e.get(o,n))throw new Error("duplicate key");var i=r.$store?r.$store:r;e.set(o,n,function(e,r){r&&(e.__patch=r),i.dispatch(t,e)})}).value();var a=this.$store?this.$store._mutations:this._mutations;return i=Object.keys(a),e(i).filter(function(e){return s.test(e)}).map(function(t){var n=t.replace(s,"").split("/").join("."),i=r.$store?r.$store:r;e.set(o.m,n,function(r,o){var n={};if(e.isString(r)&&!e.isUndefined(o))n.prop=r,n.value=o;else if(o){if(!e.isObject(r)||!e.isObject(o))throw new Error("Incorrect arguements.");n.value=r,n.patch=o}else n=r;i.commit(t,n)})}).value(),o}function n(e,n){void 0===n&&(n={});var i=n.store,s=n.mutation||!0;if(!i)throw new Error("Not defined store");s&&r(i);var u="$$store";e.prototype.hasOwnProperty(u)||(Object.defineProperty(e.prototype,u,{get:function(){return o}}),t.Store.prototype[u]=o)}return e="default"in e?e.default:e,t="default"in t?t.default:t,n.version="0.1.0",n});